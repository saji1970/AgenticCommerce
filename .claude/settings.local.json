{
  "permissions": {
    "allow": [
      "Bash(yarn type-check:*)",
      "Bash(yarn install)",
      "Bash(yarn run build:shared:*)",
      "Bash(tree:*)",
      "Bash(psql:*)",
      "Bash(yarn workspace:*)",
      "Bash(cat:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nAdd AI-powered product search feature with complete mobile UI\n\nThis commit implements a comprehensive AI-powered product search system that allows users to describe products in natural language and receive curated results from multiple sources.\n\n## Backend Implementation\n\n### Database Layer\n- Add migration with 5 new tables: products, search_queries, product_filters, mcp_server_configs, ai_processing_logs\n- Implement 4 repository classes for data access \\(Product, SearchQuery, ProductFilter, MCPServerConfig\\)\n\n### Service Layer\n- SearchService: Google Custom Search API integration with rate limiting\n- AIService: Anthropic Claude SDK for filtering shoppable products, extracting product data, and generating personalized filters\n- MCPService: Generic MCP client supporting multiple Model Context Protocol servers\n- ProductService: Orchestrates 8-step AI search workflow \\(search â†’ filter â†’ extract â†’ combine â†’ deduplicate â†’ save â†’ generate filters\\)\n\n### API Layer\n- ProductController with 6 endpoints \\(aiSearch, getProducts, getProductById, deleteProduct, getSearchHistory, getSearchQueryById\\)\n- Product routes with JWT authentication and Zod validation\n- MCP server configuration system with JSON-based setup\n\n## Mobile App Implementation\n\n### State Management\n- ProductContext with comprehensive state \\(products, filters, loading, error, pagination\\)\n- useProduct hook for accessing context\n- Integration with existing AuthProvider\n\n### Navigation\n- Products tab in bottom navigation\n- Nested stack navigator with 3 screens\n\n### Components\n- Common components: LoadingSpinner, ErrorMessage\n- Product components: ProductCard, SearchBar, FilterChips\n\n### Screens\n- ProductSearchScreen: Natural language search input with search history display\n- ProductListScreen: Results with AI-generated filters, pull-to-refresh, and pagination\n- ProductDetailsScreen: Detailed view with \"View on Website\" and delete functionality\n\n## Shared Packages\n- Add comprehensive type definitions \\(Product, SearchQuery, ProductFilter, AISearchRequest, AISearchResponse, etc.\\)\n- Add AI-specific types \\(SearchResult, FilteredResult, ExtractedProductData\\)\n- Add Zod validation schemas \\(aiSearchSchema, productFiltersSchema\\)\n\n## Previous Bug Fixes\n- Fix inconsistencies: pnpm â†’ yarn, AsyncStorage â†’ react-native-keychain, API URL configuration\n- Update documentation to reflect bare React Native architecture\n\n## Features\n- ðŸ¤– AI-powered product filtering and extraction using Claude Sonnet 4.5\n- ðŸ” Real-time Google Search integration\n- ðŸ”Œ MCP server support for additional product sources\n- ðŸŽ¯ AI-generated personalized filters \\(price ranges, brands, categories\\)\n- ðŸ“± Complete mobile UI with navigation and state management\n- ðŸ’¾ Full database persistence with PostgreSQL\n- ðŸ”’ Secure JWT authentication on all endpoints\n- âœ… TypeScript type-safety throughout the stack\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git push:*)",
      "Bash(pnpm install:*)",
      "Bash(pnpm build:*)",
      "Bash(git add:*)"
    ]
  }
}
